<!DOCTYPE html>
<html lang="no">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Bestill Time - Hans og Hennes Hårcenter</title>
    <link
      rel="icon"
      href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><rect width='100' height='100' rx='20' fill='%23F8F7F4'/><text x='50%25' y='55%25' dominant-baseline='middle' text-anchor='middle' font-size='65' font-family='Playfair Display, serif' font-weight='700' fill='%23D9A9A9'>H</text></svg>"
    />
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body class="bg-[var(--secondary-color)]">
    <header class="bg-white shadow-md">
      <div
        class="container mx-auto px-6 py-4 flex justify-between items-center"
      >
        <a
          href="index.html"
          class="text-2xl font-bold font-serif text-[var(--primary-color)]"
          >Hans & Hennes Hårcenter</a
        >
        <a
          href="index.html"
          class="font-semibold text-gray-600 hover:text-[var(--primary-color)]"
          >&larr; Tilbake til Hovedsiden</a
        >
      </div>
    </header>

    <main class="container mx-auto p-4 md:p-8">
      <div class="max-w-3xl mx-auto bg-white p-8 rounded-lg shadow-xl">
        <!-- Step 1: Select Service -->
        <div id="step-1-service">
          <h1 class="text-3xl font-serif mb-6 text-center">
            1. Velg en tjeneste
          </h1>
          <div id="booking-services-list" class="space-y-6">
            <!-- Services will be loaded here, grouped by category -->
            <p class="text-center text-gray-500">Laster tjenester...</p>
          </div>
        </div>

        <!-- Step 2: Select Date & Time -->
        <div id="step-2-datetime" class="hidden">
          <button
            id="back-to-services"
            class="font-semibold text-gray-600 hover:text-[var(--primary-color)] mb-4"
          >
            &larr; Bytt tjeneste
          </button>
          <h1 class="text-3xl font-serif mb-2 text-center">
            2. Velg dato og tid
          </h1>
          <p
            id="selected-service-info"
            class="text-center text-gray-500 mb-6"
          ></p>
          <div class="flex flex-wrap md:flex-nowrap gap-4">
            <div id="calendar" class="w-full md:w-1/2">
              <!-- Calendar will be generated here -->
            </div>
            <div id="time-slots" class="w-full md:w-1/2">
              <h3 class="font-bold text-lg mb-2 text-center md:text-left">
                Tilgjengelige tider:
              </h3>
              <div id="slots-container">
                <p class="col-span-3 text-center text-gray-500">
                  Velg en dato.
                </p>
              </div>
            </div>
          </div>
        </div>

        <!-- Step 3: Confirmation -->
        <div id="step-3-confirm" class="hidden">
          <button
            id="back-to-datetime"
            class="font-semibold text-gray-600 hover:text-[var(--primary-color)] mb-4"
          >
            &larr; Bytt tid
          </button>
          <h1 class="text-3xl font-serif mb-6 text-center">
            3. Bekreft din bestilling
          </h1>
          <div class="bg-gray-50 p-6 rounded-lg space-y-3 mb-6">
            <p><strong>Tjeneste:</strong> <span id="confirm-service"></span></p>
            <p><strong>Dato:</strong> <span id="confirm-date"></span></p>
            <p><strong>Tid:</strong> <span id="confirm-time"></span></p>
            <p><strong>Pris:</strong> <span id="confirm-price"></span> NOK</p>
          </div>
          <form id="confirm-form" class="space-y-4">
            <div>
              <label for="customer-name" class="block font-semibold"
                >Ditt navn</label
              >
              <input
                type="text"
                id="customer-name"
                class="w-full p-2 border border-gray-300 rounded"
                required
              />
            </div>
            <div>
              <label for="customer-phone" class="block font-semibold"
                >Ditt telefonnummer</label
              >
              <input
                type="tel"
                id="customer-phone"
                class="w-full p-2 border border-gray-300 rounded"
                required
              />
            </div>
            <button
              type="submit"
              id="confirm-booking-btn"
              class="w-full btn-primary !animation-none"
            >
              Bekreft og bestill
            </button>
          </form>
        </div>

        <!-- Step 4: Success Message -->
        <div id="step-4-success" class="hidden text-center">
          <div class="text-6xl text-green-500 mb-4">✓</div>
          <h1 class="text-3xl font-serif mb-4">Takk for din bestilling!</h1>
          <p class="text-lg">
            Vi har mottatt din time og gleder oss til å se deg.
          </p>
          <p class="mt-2 text-gray-500">
            Du vil motta en bekreftelse på SMS snart.
          </p>
          <a href="index.html" class="btn-primary mt-8 inline-block"
            >Tilbake til Hovedsiden</a
          >
        </div>
      </div>
    </main>

    <script type="module" src="booking.js"></script>
  </body>
</html>
